
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>DOCKER · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="../../STUDY.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    MD_Language
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../WORK.html">
            
                <a href="../../WORK.html">
            
                    
                    WORK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../work/tomcat/TOMCAT.html">
            
                <a href="../../work/tomcat/TOMCAT.html">
            
                    
                    TOMCAT
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../../work/tomcat/note/ssl_note.html">
            
                <a href="../../work/tomcat/note/ssl_note.html">
            
                    
                    TOMCAT SSL 설정방법
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../STUDY.html">
            
                <a href="../../STUDY.html">
            
                    
                    STUDY
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.3.1" data-path="DOCKER_README.html">
            
                <a href="DOCKER_README.html">
            
                    
                    DOCKER
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" >
            
                <span>
            
                    
                    Inflean
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" >
            
                <span>
            
                    
                    [ShellScript]
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" >
            
                <span>
            
                    
                    [JAVA]
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" >
            
                <span>
            
                    
                    [SQLD]
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" >
            
                <span>
            
                    
                    [LinuxMaster1급]
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" >
            
                <span>
            
                    
                    [APM]
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" >
            
                <span>
            
                    
                    [CSTS]
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" >
            
                <span>
            
                    
                    [CCNA]
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >DOCKER</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p>Section2 &#xAE30;&#xBCF8;&#xC801;&#xC778; &#xB3C4;&#xCEE4; &#xD074;&#xB77C;&#xC774;&#xC5B8;&#xD2B8; &#xBA85;&#xB839;&#xC5B4; &#xC54C;&#xC544;&#xBCF4;&#xAE30;</p>
<h1 id="redis-&#xB97C;-&#xC774;&#xC6A9;&#xD55C;-&#xCEE8;&#xD14C;&#xC774;&#xB108;-&#xC774;&#xD574;">Redis &#xB97C; &#xC774;&#xC6A9;&#xD55C; &#xCEE8;&#xD14C;&#xC774;&#xB108; &#xC774;&#xD574;</h1>
<p>docker run redis</p>
<h1 id="docker-exec--it-containerid-redis-cli">docker exec -it CONTAINERID redis-cli</h1>
<p>Section3 &#xC9C1;&#xC811; &#xB3C4;&#xCEE4; &#xC774;&#xBBF8;&#xC9C0;&#xB97C; &#xB9CC;&#xB4E4;&#xC5B4; &#xBCF4;&#xAE30;</p>
<h1 id="docker-&#xC774;&#xBBF8;&#xC9C0;-&#xC0DD;&#xC131;&#xD558;&#xB294;-&#xC21C;&#xC11C;">Docker &#xC774;&#xBBF8;&#xC9C0; &#xC0DD;&#xC131;&#xD558;&#xB294; &#xC21C;&#xC11C;</h1>
<p>dcoker create &#xC774;&#xBBF8;&#xC9C0;&#xBA85;
Dockerfile &#xC791;&#xC131; &gt;&gt; Docker Clinet &gt;&gt; Docker Server &gt;&gt; &#xC774;&#xBBF8;&#xC9C0; &#xC0DD;&#xC131;</p>
<h1 id="docker-file-&#xC744;-&#xB9CC;&#xB4DC;&#xB294;-&#xC21C;&#xC11C;">Docker File &#xC744; &#xB9CC;&#xB4DC;&#xB294; &#xC21C;&#xC11C;</h1>
<ol>
<li><p>&#xBCA0;&#xC774;&#xC2A4; &#xC774;&#xBBF8;&#xC9C0;&#xB97C; &#xBA85;&#xC2DC;</p>
<blockquote>
<p>Docker &#xC774;&#xBBF8;&#xC9C0;&#xB294; &#xC5EC;&#xB7EC;&#xAC1C;&#xC758; &#xB808;&#xC774;&#xC5B4;&#xB85C; &#xAD6C;&#xC131;
&#xBCA0;&#xC774;&#xC2A4; &#xC774;&#xBBF8;&#xC9C0;&#xB294; &#xAC00;&#xC7A5; &#xAE30;&#xBCF8; &#xB2E8;&#xACC4;
&#xBCA0;&#xC774;&#xC9C0; &#xC774;&#xBBF8;&#xC9C0; &#xC704;&#xC758; &#xCD94;&#xAC00;&#xC801;&#xC778; &#xB2E8;&#xACC4;&#xB97C; &#xB808;&#xC774;&#xC5B4;&#xB85C; &#xC774;&#xD574;&#xD558;&#xBA74; &#xB41C;&#xB2E4;.</p>
</blockquote>
</li>
<li><p>&#xCD94;&#xAC00;&#xC801;&#xC73C;&#xB85C; &#xD544;&#xC694;&#xD55C; &#xD30C;&#xC77C;&#xC744; &#xB2E4;&#xC6B4;&#xBC1B;&#xAE30; &#xC704;&#xD55C; &#xBA85;&#xB839;&#xC5B4;&#xB97C; &#xBA85;&#xC2DC;</p>
</li>
<li>&#xCEFD;&#xD14C;&#xC774;&#xB108; &#xC2DC;&#xC791;&#xC2DC; &#xC2E4;&#xD589;&#xB420; &#xBA85;&#xB839;&#xC5B4;&#xB97C; &#xBA85;&#xC2DC;</li>
</ol>
<h1 id="dokcerfile---dokcer-img-&#xC0DD;&#xC131;&#xBC29;&#xBC95;">Dokcerfile -&gt; Dokcer img &#xC0DD;&#xC131;&#xBC29;&#xBC95;</h1>
<p>Dockerfile =&gt; Docker &#xD074;&#xB77C;&#xC774;&#xC5B8;&#xD2B8; =&gt; Docker Server =&gt; img</p>
<ul>
<li>docker build &#xBA85;&#xB839;&#xC5B4;&#xB97C; &#xC0AC;&#xC6A9;</li>
</ul>
<p>docker build .
docker image ls</p>
<blockquote>
<p>baseImg &#xB97C; &#xD1B5;&#xD55C; &#xBA85;&#xB839;&#xC5B4;/spec &#xCC38;&#xACE0;
baseImg &#xAE30;&#xBC18;&#xC758; &#xC784;&#xC2DC; &#xCEE8;&#xD14C;&#xC774;&#xB108; &#xC0DD;&#xC131;&#xBC29;&#xBC95;
&#xC784;&#xC2DC; &#xCEE8;&#xD14C;&#xC774;&#xB108;&#xC5D0; custom&#xD55C; CMD/Spec &#xCD94;&#xAC00;(layer)
&#xC784;&#xC2DC; &#xCEE8;&#xD14C;&#xC774;&#xB108;&#xB85C; &#xC774;&#xBBF8;&#xC9C0; &#xC0DD;&#xC131; &#xD6C4; &#xC784;&#xC2DC; &#xCEE8;&#xD14C;&#xC774;&#xB108; &#xC81C;&#xAC70;
&#xC0C8;&#xB85C;&#xC6B4; &#xC774;&#xBBF8;&#xC9C0;&#xAC00; &#xC0DD;&#xC131;</p>
</blockquote>
<p>baseImg &#xC5D0;&#xC11C; &#xB2E4;&#xB978; &#xC885;&#xC18D;&#xC131;&#xC774;&#xB098; &#xC0C8;&#xB85C;&#xC6B4; &#xCEE4;&#xBA58;&#xB4DC;&#xB97C; &#xCD94;&#xAC00;&#xD560; &#xB54C;&#xB294;
&#xC784;&#xC2DC; &#xCEE8;&#xD14C;&#xC774;&#xB108;&#xB97C; &#xB9CC;&#xB4E4; &#xD6C4; &#xADF8; &#xCEE8;&#xD14C;&#xC774;&#xB108;&#xB97C; &#xD1A0;&#xB300;&#xB85C; &#xC0C8;&#xB85C;&#xC6B4; &#xC774;&#xBBF8;&#xC9C0;&#xB97C; &#xC0DD;&#xC131;&#xD55C;&#xB2E4;.
(* &#xC784;&#xC2DC; &#xCEE8;&#xD14C;&#xC774;&#xB294; &#xC0AD;&#xC81C;&#xB41C;&#xB2E4;.)</p>
<h1 id="docker-img-&#xC5D0;-&#xBCC4;&#xCE6D;&#xBD99;&#xC774;&#xAE30;">docker img &#xC5D0; &#xBCC4;&#xCE6D;&#xBD99;&#xC774;&#xAE30;</h1>
<p>docker build -t &#xB3C4;&#xCEE4;&#xC544;&#xC774;&#xB514;/&#xC800;&#xC7A5;&#xC18C;&#xBA85;:&#xBC84;&#xC804; .</p>
<p>Section4 &#xB3C4;&#xCEE4;&#xB97C; &#xC774;&#xC6A9;&#xD55C; &#xAC04;&#xB2E8;&#xD55C; Node.js &#xC5B4;&#xD50C; &#xB9CC;&#xB4E4;&#xAE30;</p>
<h1 id="nodejs-&#xC571;-&#xB9CC;&#xB4E4;&#xAE30;-&#xC21C;&#xC11C;">Node.js &#xC571; &#xB9CC;&#xB4E4;&#xAE30; &#xC21C;&#xC11C;</h1>
<p>(1) package.json : &#xD504;&#xB85C;&#xC81D;&#xD2B8;&#xC758; &#xC815;&#xBCF4;&#xC640; &#xD504;&#xB85C;&#xC81D;&#xD2B8;&#xC5D0;&#xC11C; &#xC0AC;&#xC6A9; &#xC911;&#xC778; &#xD328;&#xD0A4;&#xC9C0;&#xC758; &#xC758;&#xC874;&#xC131;&#xC744; &#xAD00;&#xB9AC;&#xD558;&#xB294; &#xD30C;&#xC77C; </p>
<pre><code>&gt; npm init =&gt; package.js &#xC124;&#xCE58;
+ express &#xC124;&#xCE58; : 
</code></pre><p>(2) server.json : Entry Point &#xB85C;&#xC11C; &#xAC00;&#xC7A5; &#xBA3C;&#xC800; &#xC2E4;&#xD589;&#xB418;&#xB294; &#xD30C;&#xC77C;; Node.js &#xAC00; &#xC2E4;&#xD589;&#xB420; &#xB54C; &#xC5B4;&#xB5A4; &#xD30C;&#xC77C; &#xC21C;&#xC73C;&#xB85C; &#xC77D;&#xC5B4;&#xB4E4;&#xC77C;&#xC9C0;&#xB97C; &#xC9C0;&#xC815;</p>
<h1 id="dockerfile-&#xC791;&#xC131;&#xD558;&#xAE30;">Dockerfile &#xC791;&#xC131;&#xD558;&#xAE30;</h1>
<hr>
<p>FROM : &#xC774;&#xBBF8;&#xC9C0; &#xC0DD;&#xC131;&#xC2DC; &#xAE30;&#xBC18;&#xC774; &#xB418;&#xB294; &#xC774;&#xBBF8;&#xC9C0; &#xB808;&#xC774;&#xC5B4;
       &lt;&#xC774;&#xBBF8;&#xC9C0;&#xC774;&#xB984;&gt;:&lt;&#xD0DC;&#xADF8;&gt;&#xD615;&#xC2DD;&#xC73C;&#xB85C; &#xC791;&#xC131;
       &#xD0DC;&#xADF8;&#xB97C; &#xC548; &#xBD99;&#xC774;&#xBA74; &#xC790;&#xB3D9;&#xC801;&#xC73C;&#xB85C; &#xCD5C;&#xC2E0;&#xAC83;&#xC744; &#xB2E4;&#xC6B4;&#xBC1B;&#xC74C;
RUN : &#xB3C4;&#xCEE4;&#xC774;&#xBBF8;&#xC9C0;&#xAC00; &#xC0DD;&#xC131;&#xB418;&#xAE30; &#xC804;&#xC5D0; &#xC218;&#xD589;&#xD560; &#xBA85;&#xB839;&#xC5B4;
CMD : &#xCEE8;&#xD14C;&#xC774;&#xB108;&#xAC00; &#xC2DC;&#xC791;&#xB418;&#xC5C8;&#xC744; &#xB54C; &#xC2E4;&#xD589;&#xD560; &#xC2E4;&#xD589; &#xD30C;&#xC77C; &#xB610;&#xB294; &#xC258; &#xC2A4;&#xD06C;&#xB9BD;&#xD2B8;
      Dockerfile &#xB0B4; 1&#xD68C;&#xB9CC; &#xC0AC;&#xC6A9;&#xAC00;&#xB2A5;       </p>
<hr>
<ul>
<li>npm &#xC740; Node.js &#xB85C; &#xB9CC;&#xB4E4;&#xC5B4;&#xC9C4; &#xBAA8;&#xB4C8;&#xC744; &#xC6F9;&#xC5D0;&#xC11C; &#xBC1B;&#xC544;&#xC11C; &#xC124;&#xCE58;&#xD558;&#xACE0; &#xAD00;&#xB9AC;&#xD558;&#xB294; &#xD504;&#xB85C;&#xADF8;&#xB7A8;</li>
<li>npm install &#xC740; package.json &#xC5D0; &#xC801;&#xD600;&#xC788;&#xB294; &#xC885;&#xC18D;&#xC131;&#xB4E4;&#xC744; &#xC6F9;&#xC5D0;&#xC11C; &#xC790;&#xB3D9;&#xC73C;&#xB85C; &#xB2E4;&#xC6B4;&#xBC1B;&#xC544;&#xC11C; &#xC124;&#xCE58;&#xD574;&#xC8FC;&#xB294; &#xBA85;&#xB839;&#xC5B4;</li>
<li><p>&#xD604;&#xC7AC; &#xB178;&#xB4DC; JS &#xC571;&#xC744; &#xB9CC;&#xB4E4; &#xB54C; &#xD544;&#xC694;&#xD55C; &#xBAA8;&#xB4C8;&#xB4E4;&#xC744; &#xB2E4;&#xC6B4;&#xBC1B;&#xC544; &#xC124;&#xCE58;&#xD558;&#xACE0;</p>
</li>
<li><p>Dockerfile
(1) RUN npm install
(2) NPM Registry &#xBAA8;&#xB4C8; &#xC800;&#xC7A5;&#xC18C; -&gt; Module downloaded
(3) Module installed in Application
(4) CMD[&quot;node&quot;, &quot;server.js&quot;]</p>
</li>
</ul>
<h1 id="packagejson-&#xD30C;&#xC77C;&#xC774;-&#xC5C6;&#xB2E4;&#xACE0;-&#xB098;&#xC624;&#xB294;-&#xC774;&#xC720;">package.json &#xD30C;&#xC77C;&#xC774; &#xC5C6;&#xB2E4;&#xACE0; &#xB098;&#xC624;&#xB294; &#xC774;&#xC720;</h1>
<p>npm install &#xBA85;&#xB839;&#xC5B4; &#xC0AC;&#xC6A9; &#xC2DC;
(1) &#xC5B4;&#xD50C;&#xB9AC;&#xCF00;&#xC774;&#xC158;&#xC5D0; &#xD544;&#xC694;&#xD55C; &#xC885;&#xC18D;&#xC131;&#xC744; &#xB2E4;&#xC6B4;
(2) &#xB2E4;&#xC6B4;&#xBC1B;&#xC744; &#xB54C; &#xBA3C;&#xC800; package.json &#xC744; &#xBCF4;&#xACE0; &#xADF8;&#xACF3;&#xC5D0; &#xBA85;&#xC2DC;&#xB41C; &#xC885;&#xC18D;&#xC131;&#xB4E4;&#xC744; &#xB2E4;&#xC6B4;&#xBC1B;&#xC544;&#xC11C; &#xC124;&#xCE58;
(3) package.json &#xCEE8;&#xD14C;&#xC774;&#xB108; &#xC548;&#xC5D0; &#xC5C6;&#xAE30;&#xC5D0; &#xCC3E;&#xC744; &#xC218; &#xC5C6;&#xB2E4;&#xB294; &#xC5D0;&#xB7EC;&#xAC00; &#xBC1C;&#xC0DD;</p>
<hr>
<p>FROM node:10
COPY package.json ./
RUN npm install
CMD [&quot;node&quot;,&quot;server.js&quot;]</p>
<hr>
<h1 id="&#xC0DD;&#xC131;&#xD55C;-&#xC774;&#xBBF8;&#xC9C0;&#xB85C;-&#xC5B4;&#xD50C;&#xB9AC;&#xCF00;&#xC774;&#xC158;-&#xC2E4;&#xD589;-&#xC2DC;-&#xC811;&#xADFC;&#xC774;-&#xC548;-&#xB418;&#xB294;-&#xC774;&#xC720;">&#xC0DD;&#xC131;&#xD55C; &#xC774;&#xBBF8;&#xC9C0;&#xB85C; &#xC5B4;&#xD50C;&#xB9AC;&#xCF00;&#xC774;&#xC158; &#xC2E4;&#xD589; &#xC2DC; &#xC811;&#xADFC;&#xC774; &#xC548; &#xB418;&#xB294; &#xC774;&#xC720;</h1>
<p>docker run -p 8080:8080 &#xC774;&#xBBF8;&#xC9C0;&#xBA85;</p>
<h1 id="working-directory-&#xBA85;&#xC2DC;">Working Directory &#xBA85;&#xC2DC;</h1>
<hr>
<p>WORKDIR /usr/src/app</p>
<ul>
<li>WORKDIR : &#xC5B4;&#xD50C;&#xB9AC;&#xCF00;&#xC774;&#xC158; &#xC18C;&#xC2A4; &#xCF54;&#xB4DC;&#xB97C; &#xAC16;&#xACE0; &#xC788;&#xB294; &#xB514;&#xB809;&#xD1A0;&#xB9AC;&#xB97C; &#xC0DD;&#xC131;&#xB418;&#xAE30;</li>
<li>WORKDIR &#xAC00; &#xD544;&#xC694;&#xD55C; &#xC774;&#xC720;
: &#xC774;&#xBBF8;&#xC9C0;&#xB97C; &#xBCC4;&#xB3C4;&#xB85C; &#xC0DD;&#xC131;&#xD560; &#xB54C; WORKDIR &#xACBD;&#xB85C;&#xB97C; &#xC9C0;&#xC815;&#xD558;&#xC9C0; &#xC54A;&#xC73C;&#xBA74; COPY &#xBA85;&#xB839;&#xC5B4; &#xC2E4;&#xD589; &#xC2DC; 
&#xCEE8;&#xD14C;&#xC774;&#xB108;&#xC758; ROOT &#xACBD;&#xB85C;&#xC5D0;&#xB2E4;&#xAC00; &#xC313;&#xC774;&#xAC8C; &#xB41C;&#xB2E4;.<blockquote>
<blockquote>
<p>&#xB3D9;&#xC77C;&#xBA85;&#xC758; &#xD30C;&#xC77C;&#xC774;&#xB098; &#xACBD;&#xB85C;&#xAC00; &#xC788;&#xC744; &#xACBD;&#xC6B0; &#xB36E;&#xC5B4;&#xC4F0;&#xAE30;&#xAC00; &#xB420; &#xC218; &#xC788;&#xB2E4;.
: &#xC5B4;&#xD50C;&#xB9AC;&#xCF00;&#xC774;&#xC158;&#xACFC; &#xAD00;&#xB828;&#xB41C; &#xC18C;&#xC2A4;&#xB4E4;&#xC744; WORKDIR &#xC5D0;&#xC11C; &#xD55C; &#xBC88;&#xC5D0; &#xAD00;&#xB9AC;&#xD558;&#xAE30; &#xC704;&#xD568;&#xC774;&#xB2E4;.</p>
</blockquote>
</blockquote>
</li>
</ul>
<hr>
<h1 id="&#xC5B4;&#xD50C;&#xB9AC;&#xCF00;&#xC774;&#xC158;-&#xC18C;&#xC2A4;-&#xBCC0;&#xACBD;&#xC73C;&#xB85C;-&#xB2E4;&#xC2DC;-&#xBE4C;&#xB4DC;&#xD558;&#xB294;-&#xAC83;&#xC5D0;-&#xB300;&#xD55C;-&#xBB38;&#xC81C;&#xC810;">&#xC5B4;&#xD50C;&#xB9AC;&#xCF00;&#xC774;&#xC158; &#xC18C;&#xC2A4; &#xBCC0;&#xACBD;&#xC73C;&#xB85C; &#xB2E4;&#xC2DC; &#xBE4C;&#xB4DC;&#xD558;&#xB294; &#xAC83;&#xC5D0; &#xB300;&#xD55C; &#xBB38;&#xC81C;&#xC810;</h1>
<p>&#xC5B4;&#xD50C;&#xB9AC;&#xCF00;&#xC774;&#xC158; &#xAC1C;&#xBC1C; &#xC2DC; &#xBCC0;&#xACA8;&#xB418;&#xB294; &#xC18C;&#xC2A4;&#xCF54;&#xB4DC;&#xB97C; &#xB9E4;&#xBC88; &#xC7AC;&#xBE4C;&#xB4DC;&#xD574;&#xC57C;&#xD558;&#xB294; &#xC810;&#xC758; &#xBC88;&#xAC70;&#xB85C;&#xC6C0;&#xC774; &#xBC1C;&#xC0DD;
(&#xAE30;&#xC874;) Dockerfile &#xC791;&#xC131; =&gt; Dockerfile &#xB85C; Docker &#xC774;&#xBBF8;&#xC9C0; &#xC0DD;&#xC131; =&gt; Docker &#xC774;&#xBBF8;&#xC9C0;&#xB85C; &#xCEE8;&#xD14C;&#xC774;&#xB108; &#xC0DD;&#xC131; &#xD6C4; &#xC571; &#xC2E4;&#xD574;</p>
<h1 id="&#xC5B4;&#xD50C;&#xB9AC;&#xCF00;&#xC774;&#xC158;-&#xC18C;&#xC2A4;-&#xBCC0;&#xACBD;&#xC73C;&#xB85C;-&#xC7AC;&#xBE4C;&#xB4DC;-&#xC2DC;-&#xD6A8;&#xC728;&#xC801;&#xC73C;&#xB85C;-&#xD558;&#xB294;-&#xBC29;&#xBC95;">&#xC5B4;&#xD50C;&#xB9AC;&#xCF00;&#xC774;&#xC158; &#xC18C;&#xC2A4; &#xBCC0;&#xACBD;&#xC73C;&#xB85C; &#xC7AC;&#xBE4C;&#xB4DC; &#xC2DC; &#xD6A8;&#xC728;&#xC801;&#xC73C;&#xB85C; &#xD558;&#xB294; &#xBC29;&#xBC95;</h1>
<hr>
<p>COPY package.json ./
RUN npm install
COPY ./ ./</p>
<blockquote>
<blockquote>
<p>COPY ./ ./ &#xD55C; &#xBC88;&#xB9CC; &#xB3D9;&#xC791;&#xC2DC;&#xD0AC; &#xACBD;&#xC6B0;, &#xCE90;&#xC2DC;&#xAC00; &#xB418;&#xAE30; &#xB54C;&#xBB38;&#xC5D0; &#xBCC0;&#xACBD;&#xD55C; &#xC5B4;&#xD50C;&#xB9AC;&#xCF00;&#xC774;&#xC158;&#xC744; &#xC778;&#xC2DD;&#xD558;&#xC9C0; &#xBABB;&#xD558;&#xAC8C; &#xB41C;&#xB2E4;.
COPY &#xB97C; pacakage.json &#xACFC; source &#xB85C; &#xBD84;&#xB9AC;&#xD558;&#xC5EC; &#xD558;&#xAC8C; &#xB420; &#xACBD;&#xC6B0; &#xC885;&#xC18D;&#xC131;&#xC744; &#xB2E4;&#xC6B4;&#xBC1B;&#xB294; &#xB2E8;&#xACC4;&#xC640; &#xC18C;&#xC2A4; &#xBCC0;&#xACBD;&#xC744; &#xAC00;&#xC838;&#xC624;&#xB294; &#xBD80;&#xBD84;&#xC744;
&#xBD84;&#xB9AC;&#xD560; &#xC218; &#xC788;&#xAC8C; &#xB418;&#xC5B4; &#xD6A8;&#xC728;&#xC131;&#xC774; &#xC99D;&#xB300;&#xB41C;&#xB2E4;.</p>
<hr>
</blockquote>
</blockquote>
<h1 id="docker-volume-&#xC5D0;-&#xB300;&#xD558;&#xC5EC;">Docker Volume &#xC5D0; &#xB300;&#xD558;&#xC5EC;</h1>
<hr>
<p>docker run -p 8080:8080 -v /usr/src/app/node_modules -v $(pwd):/usr/src/app lena/nodejs
docker run -p &#xB85C;&#xCEEC;&#xD3EC;&#xD2B8;:&#xCEE8;&#xD14C;&#xC774;&#xB108;&#xD3EC;&#xD2B8; -v &#xC81C;&#xC678;&#xD560; &#xACBD;&#xB85C; -v &#xCC38;&#xC870;&#xD560;&#xB85C;&#xCEEC;&#xACBD;&#xB85C;:WORKDIR &#xC774;&#xBBF8;&#xC9C0;ID</p>
<ul>
<li>/usr/src/app/node_modules : </li>
<li>$(pwd):/usr/src/app
node_modules &#xB97C; &#xC81C;&#xC678;&#xD558;&#xACE0; $(pwd) &#xC758; &#xBAA8;&#xB4E0; &#xD30C;&#xC77C;&#xC744; &#xCEE8;&#xD14C;&#xC774;&#xB108; &#xB0B4; /usr/src/app &#xACBD;&#xB85C;&#xB85C; &#xCC38;&#xC870;&#xD558;&#xB77C;&#xB294; &#xC758;&#xBBF8;</li>
</ul>
<hr>
<p>================================================================
Section5 Docker Compose</p>
<ul>
<li>package.json &#xC5D0; &#xC791;&#xC131;&#xD55C; &quot;script&quot; &#xBD80;&#xBD84;&#xC758; key &#xAC12;&#xC774; npm run &#xBA85;&#xB839;&#xC5B4;&#xC5D0;&#xC11C; &#xC0AC;&#xC6A9;&#xD558;&#xB294; &#xC635;&#xC158;&#xC73C;&#xB85C; &#xB3D9;&#xC791;&#xD55C;&#xB2E4;
(ex) npm run start --&gt; &quot;script&quot; &#xB0B4; key &#xAC12;&#xC774; start &#xC778; value &#xAC00; &#xB3D9;&#xC791;&#xD558;&#xAC8C; &#xB41C;&#xB2E4;.</li>
</ul>
<h1 id="docker-compose-&#xB780;-&#xBB34;&#xC5C7;&#xC778;&#xAC00;">Docker Compose &#xB780; &#xBB34;&#xC5C7;&#xC778;&#xAC00;</h1>
<h1 id="&#xC5B4;&#xD50C;&#xB9AC;&#xCF00;&#xC774;&#xC158;-&#xC18C;&#xC2A4;-&#xC791;&#xC131;&#xD558;&#xAE30;">&#xC5B4;&#xD50C;&#xB9AC;&#xCF00;&#xC774;&#xC158; &#xC18C;&#xC2A4; &#xC791;&#xC131;&#xD558;&#xAE30;</h1>
<h1 id="dockerfile-&#xC791;&#xC131;&#xD558;&#xAE30;">Dockerfile &#xC791;&#xC131;&#xD558;&#xAE30;</h1>
<h1 id="docker-containers-&#xAC04;-&#xD1B5;&#xC2E0;&#xD560;-&#xB54C;-&#xB098;&#xD0C0;&#xB098;&#xB294;-&#xC5D0;&#xB7EC;">Docker Containers &#xAC04; &#xD1B5;&#xC2E0;&#xD560; &#xB54C; &#xB098;&#xD0C0;&#xB098;&#xB294; &#xC5D0;&#xB7EC;</h1>
<p>Nodejs &#xAC00; &#xB3D9;&#xC791;&#xD558;&#xB294; Container(Container1) &#xC640; Redis &#xAC00; &#xB3D9;&#xC791;&#xD558;&#xB294; Container(Container2) &#xAC00;
&#xC11C;&#xB85C; &#xB2E4;&#xB974;&#xAE30; &#xB54C;&#xBB38;&#xC5D0; &#xAE30;&#xBCF8;&#xC801;&#xC73C;&#xB85C; Connection &#xC774; &#xB418;&#xC9C0; &#xC54A;&#xACE0; &#xBCC4;&#xB3C4;&#xC758; &#xC791;&#xC5C5;&#xC774; &#xD544;&#xC694;&#xD574;&#xC9C4;&#xB2E4;.</p>
<blockquote>
<p>&#xC774;&#xB7EC;&#xD55C; &#xC791;&#xC5C5;&#xC758; &#xD53C;&#xB85C;&#xB3C4;&#xB97C; &#xC904;&#xC774;&#xAE30; &#xC704;&#xD55C; &#xAE30;&#xB2A5;&#xC774; Dokcer Compose &#xC774;&#xB2E4;
(&#xBA40;&#xD2F0; &#xCEE8;&#xD14C;&#xC774;&#xB108; &#xC0C1;&#xD669;&#xC5D0;&#xC11C; &#xC27D;&#xAC8C; &#xB124;&#xD2B8;&#xC6CC;&#xD06C;&#xB97C; &#xC5F0;&#xACB0;&#xC2DC;&#xCF1C;&#xC8FC;&#xAE30; &#xC704;&#xD55C; &#xAE30;&#xB2A5;)</p>
</blockquote>
<h1 id="docker-compose-&#xD30C;&#xC77C;-&#xC791;&#xC131;&#xD558;&#xAE30;">Docker Compose &#xD30C;&#xC77C; &#xC791;&#xC131;&#xD558;&#xAE30;</h1>
<blockquote>
<p>docker-compose.yaml &#xD615;&#xC2DD;&#xC73C;&#xB85C; &#xC791;&#xC131;</p>
<hr>
<p>&#xCEE8;&#xD14C;&#xC774;&#xB108; &#xC774;&#xB984; : redis-server (redis &#xC774;&#xBBF8;&#xC9C0; &#xC0AC;&#xC6A9; &#xBA85;&#xC2DC;)
&#xCEE8;&#xD14C;&#xC774;&#xB108; &#xC774;&#xB984;  : node-app (Dockerfile &#xC0AC;&#xC6A9; -&gt; &#xD3EC;&#xD2B8; &#xB9E4;&#xD551;)</p>
<hr>
<p>docker-container.yaml &#xC5D0; &#xC791;&#xC131;&#xD55C; &#xB300;&#xB85C;
&#xC6B0;&#xC120; docker image &#xB97C; build =&gt; yaml services &#xC5D0; &#xB098;&#xC5F4;&#xD55C; &#xC21C;&#xC11C;&#xB300;&#xB85C; server &#xAE30;&#xB3D9;</p>
</blockquote>
<h1 id="docker-compose-&#xB85C;-&#xCEE8;&#xD14C;&#xC774;&#xB108;&#xB97C;-&#xBA48;&#xCD94;&#xAE30;">Docker Compose &#xB85C; &#xCEE8;&#xD14C;&#xC774;&#xB108;&#xB97C; &#xBA48;&#xCD94;&#xAE30;</h1>
<ul>
<li>docker compose &#xBA85;&#xB839;&#xC5B4;&#xB97C; &#xC0AC;&#xC6A9;&#xD558;&#xAE30; &#xC704;&#xD574;&#xC11C;&#xB294; docker-compose.yaml &#xC774; &#xC791;&#xC131;&#xB41C; &#xACBD;&#xB85C;&#xB85C; &#xC774;&#xB3D9;&#xD574;&#xC57C;&#xD55C;&#xB2E4;.
docker compose up (&#xC774;&#xBBF8;&#xC9C0; &#xD544;&#xC694;&#xC2DC; &#xBE4C;&#xB4DC;)
docker compose down
docker compose up --build (&#xC774;&#xBBF8;&#xC9C0;&#xB97C; &#xD56D;&#xC0C1; &#xC7AC;&#xBE4C;&#xB4DC;)
docker compose -d up (&#xBC31;&#xADF8;&#xB77C;&#xC6B4;&#xB4DC; &#xC2E4;&#xD589;)</li>
</ul>
<p>================================================================
Section6 &#xAC04;&#xB2E8;&#xD55C; &#xC5B4;&#xD50C;&#xC744; &#xC2E4;&#xC81C; &#xBC30;&#xD3EC;&#xD574;&#xBCF4;&#xAE30;(&#xAC1C;&#xBC1C;)</p>
<h1 id="&#xB9AC;&#xC561;&#xD2B8;-&#xC571;-&#xC124;&#xCE58;&#xD558;&#xAE30;">&#xB9AC;&#xC561;&#xD2B8; &#xC571; &#xC124;&#xCE58;&#xD558;&#xAE30;</h1>
<ul>
<li><p>react &#xC124;&#xCE58;
npx create-react-app ./</p>
</li>
<li><p>react application &#xAD00;&#xB828; &#xBA85;&#xB839;&#xC5B4;
&#xAC1C;&#xBC1C;&#xB2E8;&#xACC4; : npm run start
&#xD14C;&#xC2A4;&#xD2B8; &#xB2E8;&#xACC4; : npm run test
&#xBC30;&#xD3EC;&#xD658;&#xACBD; : npm run build</p>
</li>
</ul>
<h1 id="&#xB3C4;&#xCEE4;&#xB97C;-&#xC774;&#xC6A9;&#xD558;&#xC5EC;-&#xB9AC;&#xC561;&#xD2B8;-&#xC571;-&#xC2E4;&#xD589;&#xD558;&#xAE30;">&#xB3C4;&#xCEE4;&#xB97C; &#xC774;&#xC6A9;&#xD558;&#xC5EC; &#xB9AC;&#xC561;&#xD2B8; &#xC571; &#xC2E4;&#xD589;&#xD558;&#xAE30;</h1>
<ul>
<li>Docker &#xB85C; React &#xC2E4;&#xD589;
Docker img &#xC0DD;&#xC131; =&gt; img &#xB85C; Container &#xC0DD;&#xC131; =&gt; Container &#xC548;&#xC5D0; &#xC571; &#xC2E4;&#xD589;
Dockerfile - (DEV) Dockerfile.dev / (PROD) Dockerfile</li>
</ul>
<p>&#xD14C;&#xC2A4;&#xD2B8; &#xD658;&#xACBD;&#xC744; &#xBCF4;&#xBA74; node_modules &#xB77C;&#xB294; &#xACBD;&#xB85C;&#xAC00; &#xC788;&#xB294;&#xB370; container &#xAC00; &#xC0DD;&#xC131;&#xB420; &#xB54C;, 
RUN npm install &#xB355;&#xC5D0; container &#xB0B4;&#xBD80;&#xC5D0; node_modules &#xAC00; &#xC0DD;&#xC131;&#xB418;&#xB420; &#xC608;&#xC815;&#xC774;&#xAE30;&#xC5D0; &#xAD73;&#xC774; COPY &#xD560; &#xD544;&#xC694;&#xAC00; &#xC5C6;&#xB2E4;.</p>
<ul>
<li>Docker.dev &#xC758; &#xACBD;&#xC6B0;, docker build &#xC2DC; Dockerfile &#xACFC; &#xB2EC;&#xB9AC; &#xC778;&#xC2DD;&#xD558;&#xC9C0; &#xBABB;&#xD55C;&#xB2E4;.
docker build -f Dockerfile.dev -t lena/react-app-dev
(build -f &#xC635;&#xC158;&#xC744; &#xD1B5;&#xD574; &#xC774;&#xBBF8;&#xC9C0; &#xBE4C;&#xB4DC; &#xC2DC; &#xCC38;&#xACE0;&#xD560; &#xD30C;&#xC77C;&#xC744; &#xC9C0;&#xC815;)
docker run -p 3000:3000 lena/react-app-dev</li>
</ul>
<h1 id="&#xC0DD;&#xC131;&#xB41C;-&#xB3C4;&#xCEE4;-&#xC774;&#xBBF8;&#xC9C0;&#xB85C;-&#xB9AC;&#xC561;&#xD2B8;-&#xC571;-&#xC2E4;&#xD589;&#xD558;&#xAE30;">&#xC0DD;&#xC131;&#xB41C; &#xB3C4;&#xCEE4; &#xC774;&#xBBF8;&#xC9C0;&#xB85C; &#xB9AC;&#xC561;&#xD2B8; &#xC571; &#xC2E4;&#xD589;&#xD558;&#xAE30;</h1>
<p>docker run -p 3000:3000 -v /usr/src/app/node_modules -v $(pwd):/usr/src/app lena/react-app-dev</p>
<h1 id="&#xC0DD;&#xC131;&#xB41C;-&#xB3C4;&#xCEE4;-&#xC774;&#xBBF8;&#xC9C0;&#xB85C;-&#xB9AC;&#xC561;&#xD2B8;-&#xC571;-&#xC2E4;&#xD589;&#xD558;&#xAE30;">&#xC0DD;&#xC131;&#xB41C; &#xB3C4;&#xCEE4; &#xC774;&#xBBF8;&#xC9C0;&#xB85C; &#xB9AC;&#xC561;&#xD2B8; &#xC571; &#xC2E4;&#xD589;&#xD558;&#xAE30;</h1>
<h1 id="&#xB3C4;&#xCEE4;-&#xBCFC;&#xB968;&#xC744;-&#xC774;&#xC6A9;&#xD55C;-&#xC18C;&#xC2A4;-&#xCF54;&#xB4DC;-&#xBCC0;&#xACBD;">&#xB3C4;&#xCEE4; &#xBCFC;&#xB968;&#xC744; &#xC774;&#xC6A9;&#xD55C; &#xC18C;&#xC2A4; &#xCF54;&#xB4DC; &#xBCC0;&#xACBD;</h1>
<h1 id="&#xB3C4;&#xCEE4;-&#xCEF4;&#xD3EC;&#xC988;&#xB85C;-&#xC880;-&#xB354;-&#xAC04;&#xB2E8;&#xD558;&#xAC8C;-&#xC571;-&#xC2E4;&#xD589;&#xD558;&#xAE30;">&#xB3C4;&#xCEE4; &#xCEF4;&#xD3EC;&#xC988;&#xB85C; &#xC880; &#xB354; &#xAC04;&#xB2E8;&#xD558;&#xAC8C; &#xC571; &#xC2E4;&#xD589;&#xD558;&#xAE30;</h1>
<p>vi docker-compose.yaml</p>
<hr>
<p>version : Docker Compose &#xC758; &#xBC84;&#xC804;
services : &#xC2E4;&#xD589;&#xD558;&#xB824;&#xB294; &#xCEE8;&#xD14C;&#xC774;&#xB108;&#xB4E4;&#xC744; &#xC815;&#xC758;
react : &#xCEE8;&#xD14C;&#xC774;&#xB108;&#xC758; &#xC774;&#xB984;
build : &#xD604; &#xB514;&#xB809;&#xD1A0;&#xB9AC;&#xC5D0; &#xC788;&#xB294; Dockerfile &#xC0AC;&#xC6A9;
context : &#xB3C4;&#xCEE4; &#xC774;&#xBBF8;&#xC9C0;&#xB97C; &#xAD6C;&#xC131;&#xD558;&#xAE30; &#xC704;&#xD55C; &#xD30C;&#xC77C;&#xACFC; &#xD3F4;&#xB354;&#xB4E4;&#xC774; &#xC788;&#xB294; &#xC704;&#xCE58;
dockerfile : &#xC5B4;&#xB5A4; &#xB3C4;&#xCEE4; &#xD30C;&#xC77C;&#xC778;&#xC9C0; &#xC9C0;&#xC815;
ports : &#xD3EC;&#xD2B8; &#xB9E4;&#xD551;
volumes : &#xB85C;&#xCEEC; &#xBA38;&#xC2E0;&#xC5D0; &#xC788;&#xB294; &#xD30C;&#xC77C;&#xB4E4;&#xC744; &#xB9F5;&#xD551;
stdin_open : &#xB9AC;&#xC561;&#xD2B8; &#xC571;&#xC744; &#xB04C; &#xB54C; &#xD544;&#xC694;</p>
<hr>
<h1 id="&#xB9AC;&#xC561;&#xD2B8;-&#xC571;-&#xD14C;&#xC2A4;&#xD2B8;&#xD558;&#xAE30;">&#xB9AC;&#xC561;&#xD2B8; &#xC571; &#xD14C;&#xC2A4;&#xD2B8;&#xD558;&#xAE30;</h1>
<p>docker run -it lena/docker-react-app npm run test
vi docker-compose.yaml</p>
<hr>
<p>tests: &#xCEE8;&#xD2F0;&#xC774;&#xB108; &#xC774;&#xB984;
build : &#xD604; &#xB514;&#xB809;&#xD130;&#xB9AC;&#xC5D0; &#xC788;&#xB294; Dockerfile &#xC0AC;&#xC6A9;
context : &#xB3C4;&#xCEE4; &#xC774;&#xBBF8;&#xC9C0;&#xB97C; &#xAD6C;&#xC131;&#xD558;&#xAE30; &#xC704;&#xD55C; &#xD30C;&#xC77C;&#xACFC; &#xD3F4;&#xB354;&#xB4E4;&#xC774; &#xC788;&#xB294; &#xC704;&#xCE58;
dockerfile : &#xC0AC;&#xC6A9;&#xD560; &#xB3C4;&#xCEE4; &#xD30C;&#xC77C; &#xBA85; &#xC9C0;&#xC815;
volumes : &#xB85C;&#xCEEC; &#xBA38;&#xC2E0;&#xC5D0; &#xC788;&#xB294; &#xD30C;&#xC77C;&#xC744; &#xB9F5;&#xD551;
command : &#xD14C;&#xC2A4;&#xD2B8; &#xCEE8;&#xD14C;&#xC774;&#xB108; &#xC2DC;&#xC791;&#xD560; &#xB54C; &#xC2E4;&#xD589;&#xB418;&#xB294; &#xBA85;&#xB839;&#xC5B4;</p>
<hr>
<h1 id="&#xC6B4;&#xC601;&#xD658;&#xACBD;&#xC744;-&#xC704;&#xD55C;-nginx">&#xC6B4;&#xC601;&#xD658;&#xACBD;&#xC744; &#xC704;&#xD55C; Nginx</h1>
<h1 id="&#xC6B4;&#xC601;&#xD658;&#xACBD;-&#xB3C4;&#xCEE4;-&#xC774;&#xBBF8;&#xC9C0;&#xB97C;-&#xC704;&#xD55C;-dockerfile-&#xC791;&#xC131;&#xD558;&#xAE30;">&#xC6B4;&#xC601;&#xD658;&#xACBD; &#xB3C4;&#xCEE4; &#xC774;&#xBBF8;&#xC9C0;&#xB97C; &#xC704;&#xD55C; Dockerfile &#xC791;&#xC131;&#xD558;&#xAE30;</h1>
<hr>
<p>FROM node:alpine as builder
WORKDIR /usr/src/app
COPY package.json ./
RUN npm install
COPY ./ ./
CMD [&quot;npm&quot;,&quot;run&quot;,&quot;build&quot;]</p>
<p>FROM nginx
COPY --from=builder /usr/src/app/build /usr/share/nginx/html
(1) --from=builder : &#xB2E4;&#xB978; stage &#xC5D0; &#xC788;&#xB294; &#xD30C;&#xC77C;&#xC744; &#xBCF5;&#xC0AC;&#xD560; &#xB584; &#xB2E4;&#xB978; stage &#xC774;&#xB984;&#xC744; &#xBA85;&#xC2DC;
(2) /usr/src/app/build /usr/share/nginx/html
: builder stage &#xC5D0;&#xC11C; &#xC0DD;&#xC131;&#xB41C; &#xD30C;&#xC77C;&#xB4E4;&#xC740; /usr/src/app/build &#xC5D0; &#xB4E4;&#xC5B4;&#xAC00;&#xAC8C; &#xB418;&#xBA70; &#xADF8;&#xACF3;&#xC5D0; &#xC800;&#xC7A5;&#xB41C; &#xD30C;&#xC77C;&#xB4E4;&#xC744; /usr/share/nginx/html &#xB85C; &#xBCF5;&#xC0AC;&#xB97C; &#xC2DC;&#xCF1C;&#xC918;&#xC11C; nginx &#xAC00; &#xC6F9; &#xBE0C;&#xB77C;&#xC6B0;&#xC800;&#xC758; http &#xC694;&#xCCAD;&#xC774;&#xC62C;&#xB54C; &#xC54C;&#xB9DE;&#xC740; &#xD30C;&#xC77C;&#xC744; &#xC804;&#xD574;&#xC904; &#xC218; &#xC788;&#xAC8C; &#xB9CC;&#xB4ED;&#xB2C8;&#xB2E4;.</p>
<hr>
<p>docker build . -t lena/docker-react-app</p>
<h1 id="docker-run--p-808080-lenadocker-react-app">docker run -p 8080:80 lena/docker-react-app</h1>
<p>Section7 &#xAC04;&#xB2E8;&#xD55C; &#xC5B4;&#xD50C;&#xC744; &#xC2E4;&#xC81C; &#xBC30;&#xD3EC;&#xD574;&#xBCF4;&#xAE30;(&#xBC30;&#xD3EC;)</p>
<h1 id="travis-ci-&#xC124;&#xBA85;">Travis CI &#xC124;&#xBA85;</h1>
<h1 id="travis-ci-&#xC774;&#xC6A9;-&#xC21C;&#xC11C;">Travis CI &#xC774;&#xC6A9; &#xC21C;&#xC11C;</h1>
<blockquote>
<blockquote>
<p>&#xC820;&#xD0A8;&#xC2A8;&#xC640; &#xBE44;&#xC2B7;&#xD55C; &#xAE30;&#xB2A5;&#xC744; &#xD558;&#xB294; &#xC790;&#xB3D9; &#xBC30;&#xD3EC;&#xD654; &#xB3C4;&#xAD6C;</p>
</blockquote>
</blockquote>
<h1 id="travisyml-&#xD30C;&#xC77C;-&#xC791;&#xC131;&#xD558;&#xAE30;">.travis.yml &#xD30C;&#xC77C; &#xC791;&#xC131;&#xD558;&#xAE30;</h1>
<p>(1) Test &#xB97C; &#xC218;&#xD589;&#xD558;&#xAE30; &#xC704;&#xD55C; &#xC900;&#xBE44;</p>
<ul>
<li>Travis CI &#xC5D0; Docker &#xD658;&#xACBD; &#xAD6C;&#xC131;</li>
<li>&#xAD6C;&#xC131;&#xB41C; Docker &#xD658;&#xACBD;&#xC5D0;&#xC11C; Dockerfile.dev &#xB97C; &#xC774;&#xC6A9;&#xD574;&#xC11C; &#xB3C4;&#xCEE4; &#xC774;&#xBBF8;&#xC9C0; &#xC0DD;&#xC131;
(2) Teset &#xB97C; &#xC218;&#xD589;&#xD558;&#xAE30;</li>
<li>&#xC5B4;&#xB5BB;&#xAC8C; Test &#xB97C; &#xC218;&#xD589;&#xD560; &#xAC83;&#xC778;&#xC9C0; &#xC124;&#xC815;&#xD574;&#xC8FC;&#xAE30;
(3) AWS &#xB85C; &#xBC30;&#xD3EC;&#xD558;&#xAE30;</li>
<li>AWS &#xC5D0; &#xC18C;&#xC2A4;&#xCF54;&#xB4DC;&#xB97C; &#xBC30;&#xD3EC;&#xD560; &#xAC83;&#xC778;&#xC9C0; &#xC124;&#xC815;</li>
</ul>
<p>.travis.yml</p>
<hr>
<p>sudo : &#xAD00;&#xB9AC;&#xC790; &#xAD8C;&#xD55C;&#xAC16;&#xAE30;
language : &#xC5B8;&#xC5B4; &#xC120;&#xD0DD;
services : Docker &#xD658;&#xACBD; &#xAD6C;&#xC131;
before_install : &#xC2A4;&#xD06C;&#xB9BD;&#xD2B8;&#xB97C; &#xC2E4;&#xD589;&#xD560; &#xC218; &#xC788;&#xB294; &#xD658;&#xACBD; &#xAD6C;&#xC131;</p>
<blockquote>
<p>Dockerfile &#xC744; &#xD1B5;&#xD55C; &#xC774;&#xBBF8;&#xC9C0; &#xAD6C;&#xC131;&#xC744; &#xD558;&#xB294; &#xB2E8;&#xACC4;
script : &#xC2E4;&#xD589;&#xD560; &#xC2A4;&#xD06C;&#xB9BD;&#xD2B8;(&#xD14C;&#xC2A4;&#xD2B8; &#xC2E4;&#xD589;)
after_success : &#xD14C;&#xC2A4;&#xD2B8; &#xC131;&#xACF5; &#xD6C4; &#xD560;&#xC77C;</p>
<hr>
</blockquote>
<ul>
<li>Travis CI &#xC0AC;&#xC6A9;&#xBC29;&#xBC95;
(1) Plan &#xC124;&#xC815;&#xC774; &#xD544;&#xC694;&#xD558;&#xB2E4;
(2) ssh &#xAD8C;&#xD55C;&#xC774;&#xC288;
If you have SSH keys defined for your repositories, please review their settings now. 
The new Share ssh keys with forks (PRs) repository setting are present and set to ON for repositories already in Travis CI in order to not break existing build setups. 
&#x3147; travis &#xACF5;&#xC2DD;&#xBB38;&#xC11C;
<a href="https://docs.travis-ci.com/user/private-dependencies/#password" target="_blank">https://docs.travis-ci.com/user/private-dependencies/#password</a>
&#x3147; travis &#xBA85;&#xB839;&#xC5B4; &#xC124;&#xCE58;
<a href="https://velog.io/@kyungwoon/TIL-%ED%95%AD%ED%95%B499-Day-76" target="_blank">https://velog.io/@kyungwoon/TIL-%ED%95%AD%ED%95%B499-Day-76</a>
<a href="https://zetawiki.com/wiki/CentOS_rubygems_%EC%84%A4%EC%B9%98" target="_blank">https://zetawiki.com/wiki/CentOS_rubygems_%EC%84%A4%EC%B9%98</a>
&#x3147; ruby 2.3 &#xC774;&#xC0C1; &#xD544;&#xC694;
<a href="https://www.infracody.com/2022/06/install-ruby-rvm-on-centos-7-linux.html" target="_blank">https://www.infracody.com/2022/06/install-ruby-rvm-on-centos-7-linux.html</a></li>
</ul>
<h1 id="aws-&#xC54C;&#xC544;&#xBCF4;&#xAE30;">AWS &#xC54C;&#xC544;&#xBCF4;&#xAE30;</h1>
<h1 id="elastics-beanstalk-&#xD658;&#xACBD;-&#xAD6C;&#xC131;&#xD558;&#xAE30;">Elastics Beanstalk &#xD658;&#xACBD; &#xAD6C;&#xC131;&#xD558;&#xAE30;</h1>
<h1 id="aws-&#xC5C5;&#xB370;&#xC774;&#xD2B8;--elastics-beanstalk-branch">AWS &#xC5C5;&#xB370;&#xC774;&#xD2B8; : Elastics Beanstalk branch</h1>
<h1 id="travisyml-&#xD30C;&#xC77C;-&#xC791;&#xC131;&#xD558;&#xAE30;&#xBC30;&#xD3EC;&#xBD80;&#xBD84;">.travis.yml &#xD30C;&#xC77C; &#xC791;&#xC131;&#xD558;&#xAE30;(&#xBC30;&#xD3EC;&#xBD80;&#xBD84;)</h1>
<h1 id="travis-ci-&#xC758;-aws-&#xC811;&#xADFC;&#xC744;-&#xC704;&#xD55C;-api-&#xC0DD;&#xC131;">Travis CI &#xC758; AWS &#xC811;&#xADFC;&#xC744; &#xC704;&#xD55C; API &#xC0DD;&#xC131;</h1>
<ul>
<li>Secret, Access API Key &#xBC1B;&#xB294; &#xC21C;&#xC11C;
(1) IAM USER &#xC0DD;&#xC131;
(2) API &#xB97C; Travis yml &#xD30C;&#xC77C;&#xC5D0; &#xC791;&#xC131;</li>
</ul>
<h1 id="aws-&#xC5C5;&#xB370;&#xC774;&#xD2B8;--elasticsbeanstalkfullaccess">AWS &#xC5C5;&#xB370;&#xC774;&#xD2B8; : ElasticsBeanstalkFullAccess</h1>
<p>&#x3147; IAM User &#xAD8C;&#xD55C;&#xBCC0;&#xACBD; : ElasticsBeanstalkFullAccess &gt; AdministratorAccess-AWSElasticBeanstalk</p>
<h1 id="travis-ci-&#xC5D0;&#xC11C;-github-action-&#xC73C;&#xB85C;-&#xAD50;&#xCCB4;&#xD558;&#xAE30;">Travis CI &#xC5D0;&#xC11C; Github Action &#xC73C;&#xB85C; &#xAD50;&#xCCB4;&#xD558;&#xAE30;</h1>
<p>(1) AWS IAM Role &#xCD94;&#xAC00;</p>
<blockquote>
<p>AWSElasticBeanstalkMulticontaienrDocker
AWSElasticBeanstalkWebTier
AWSElasticBeanstalkWorkerTier
(2) ElasticsBeanstalk &#xC0DD;&#xC131;
(3) &#xC0AC;&#xC6A9;&#xC790; &#xC0DD;&#xC131; =&gt; access key &#xC0DD;&#xC131;
(4) Amazon S3 bucket
(5) github repository &#xC0DD;&#xC131; =&gt; &#xACBD;&#xB85C; &#xC0DD;&#xC131;: .github\workflow\deploy.yaml</p>
</blockquote>
<p>================================================================
Section8 &#xBCF5;&#xC7A1;&#xD55C; &#xC5B4;&#xD50C;&#xC744; &#xC2E4;&#xC81C; &#xBC30;&#xD3EC;&#xD574;&#xBCF4;&#xAE30;(&#xAC1C;&#xBC1C;)</p>
<h1 id="node-js-&#xAD6C;&#xC131;&#xD558;&#xAE30;">Node JS &#xAD6C;&#xC131;&#xD558;&#xAE30;</h1>
<p>(1) backend&#xB780;&#xB290; &#xD3F4;&#xB354; &#xC0DD;&#xC131;&#xD558;&#xAE30;(Nodejs &#xAD00;&#xB828; &#xC18C;&#xC2A4; &#xACBD;&#xB85C;)
(2) package.json &#xD30C;&#xC77C; &#xC0DD;&#xC131;
pacakage.json</p>
<hr>
<p>  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,
    &quot;start&quot;: &quot;node server.js&quot;,
    &quot;dev&quot;: &quot;nodemon server.js&quot;, 
  },
  &quot;dependencies&quot;: {
    &quot;express&quot;: &quot;^4.16.1&quot;, // &#xC6F9; &#xD504;&#xB808;&#xC784;&#xC6CC;&#xD06C; &#xBAA8;&#xB4C8;
    &quot;mysql&quot;: &quot;2.16.0&quot;, // mysql &#xC744; &#xC0AC;&#xC6A9;&#xD558;&#xAE30; &#xC704;&#xD55C; &#xBAA8;&#xB4C8;
    &quot;nodemon&quot;: &quot;1.18.3&quot;, // source &#xBCC0;&#xACBD; &#xC2DC; &#xC790;&#xB3D9; &#xC7AC;&#xAE30;&#xB3D9; &#xC218;&#xD589;&#xD574;&#xC8FC;&#xB294; &#xBAA8;&#xB4C8;
    &quot;body-parser&quot;: &quot;1.19.0&quot; // &#xD074;&#xB77C;&#xC774;&#xC5B8;&#xD2B8;&#xC5D0;&#xC11C; &#xC624;&#xB294; &#xC694;&#xCCAD;&#xC758; &#xBCF8;&#xBB38;&#xC744; &#xD574;&#xC11D;&#xD574;&#xC8FC;&#xB294; &#xBBF8;&#xB4E4;&#xC6E8;&#xC5B4;
  }</p>
<hr>
<p>(3) package.json &#xD30C;&#xC77C; &#xC548;&#xC5D0; &#xC2A4;&#xD06C;&#xB9BD;&#xD2B8;&#xC640; &#xC0AC;&#xC6A9;&#xD560; &#xBAA8;&#xB4C8;&#xB4E4; &#xBA85;&#xC2DC;
(4) &#xC2DC;&#xC791;&#xC810;&#xC774;&#xB418;&#xB294; server.js &#xC0DD;&#xC131;
(6) mysql &#xC5F0;&#xACB0;&#xC744; &#xC704;&#xD55C; db.js &#xD30C;&#xC77C; &#xC0DD;&#xC131;
(7) HOST, USER, PW, DB&#xBA85; &#xBA85;&#xC2DC;&#xD558;&#xC5EC; POOL &#xC0DD;&#xC131;; &#xC0DD;&#xC131;&#xD55C; POOL &#xC744; &#xB2E4;&#xB978; &#xBD80;&#xBD84;&#xC5D0;&#xC11C; &#xC4F8; &#xC218; &#xC788;&#xAC8C; export &#xD574;&#xC90C;.
(8) export &#xB41C; POOL &#xC744; &#xC2DC;&#xC791;&#xC810;&#xC778; server.js &#xC5D0;&#xC11C; &#xBD88;&#xB7EC;&#xC624;&#xAE30;
(9) &#xC774; &#xC5B4;&#xD50C;&#xC5D0;&#xC11C; &#xD544;&#xC694;&#xD55C; API &#xC791;&#xC131;</p>
<h1 id="react-js-&#xAD6C;&#xC131;&#xD558;&#xAE30;">React JS &#xAD6C;&#xC131;&#xD558;&#xAE30;</h1>
<p>(1) Create-React-App &#xC73C;&#xB85C; &#xB9AC;&#xC561;&#xD2B8;&#xC571; &#xC0DD;&#xC131;&#xD558;&#xAE30; </p>
<blockquote>
<p>npx create-react-app frontend
(2) &#xB9AC;&#xC561;&#xD2B8; &#xC571; &#xC0DD;&#xC131;
npm run react
(3) App.js &#xD30C;&#xC77C; &#xC548;&#xC5D0; &#xC6D0;&#xD558;&#xB294; UI &#xC0DD;&#xC131; : Input &#xBC15;&#xC2A4; Button &#xCD94;&#xAC00;
(4) UI &#xB97C; &#xC704;&#xD55C; &#xCF54;&#xB4DC; &#xC791;&#xC131;
(5) UI &#xB97C; &#xC704;&#xD55C; CSS &#xC791;&#xC131;
(6) &#xB370;&#xC774;&#xD130; &#xD750;&#xB984;&#xC744; &#xC704;&#xD55C; State &#xC0DD;&#xC131;</p>
<hr>
<p>import React, { useState } from &apos;react&apos; // useState &#xB97C; &#xC0AC;&#xC6A9;&#xD558;&#xAE30; &#xC704;&#xD574;&#xC11C; react &#xB77C;&#xC774;&#xBE0C;&#xB7EC;&#xB9AC;&#xC5D0;&#xC11C; &#xAC00;&#xC838;&#xC634;
..(&#xC911;&#xB7B5;)..
fucntion App(){
  const [lists, setLists] = useState([]) // lists : DB &#xC5D0; &#xC800;&#xC7A5;&#xB41C; &#xAC12;&#xC744; &#xAC00;&#xC838;&#xC640;&#xC11C; &#xD654;&#xBA74;&#xC5D0; &#xBCF4;&#xC5EC;&#xC8FC;&#xAE30; &#xC804; &#xC774; State &#xC5D0; &#xB123;&#xC5B4;&#xB460;
  const [value, setValue] = useStae(&quot;) // input &#xBC15;&#xC2A4;&#xC5D0; &#xC785;&#xB825;&#xD55C; &#xAC12;&#xC774; &#xC774; state &#xC5D0; &#xC800;&#xC7A5;&#xB428;
}</p>
<hr>
</blockquote>
<h1 id="&#xB9AC;&#xC561;&#xD2B8;-&#xC571;&#xC744;-&#xC704;&#xD55C;-&#xB3C4;&#xCEE4;-&#xD30C;&#xC77C;-&#xB9CC;&#xB4E4;&#xAE30;">&#xB9AC;&#xC561;&#xD2B8; &#xC571;&#xC744; &#xC704;&#xD55C; &#xB3C4;&#xCEE4; &#xD30C;&#xC77C; &#xB9CC;&#xB4E4;&#xAE30;</h1>
<hr>
<p>FROM node:alpine asbuilder
&#xCA30;&#xAE4C;&#xC57E; /app
COPY ./pcakage.json ./
RUN npm install
COPY ./ ./
RUN npm run builder
FROM nginx
EXPOSE 3000
COPY ./nginx/default. conf /etc/nginx/default.conf
COPY --from=builder /app/build /usr/share/nginx/html</p>
<hr>
<p>mkdir -p frontend/nginx
touch frontend/nginx/default.conf
default.conf</p>
<hr>
<p>server{
  location / {
    root /usr/share/nginx/html
    index index.html index.htm
    try_files $uri $uri /index.html  //React Router &#xB97C; &#xC0AC;&#xC6A9;&#xD574;&#xC11C; &#xD398;&#xC774;&#xC9C0; &#xAC04; &#xC774;&#xB3D9;&#xD560; &#xB54C; &#xC0AC;&#xC6A9;
  }
}
&#x3147; React &#xB294; Single Page Application &#xC774;&#xB3C4;</p>
<blockquote>
<p>index.html &#xD558;&#xB098;&#xC758; &#xC815;&#xC801; &#xD30C;&#xC77C;&#xB9CC; &#xAC00;&#xC9C0;&#xACE0; &#xC774;&#xACE0; {URL}/home &#xC73C;&#xB85C; &#xC811;&#xADFC;&#xD558;&#xB824;&#xACE0; &#xD574;&#xB3C4; {URL}/home/index.html &#xB85C; &#xC774;&#xB3D9;&#xB418;&#xC57C;&#xD55C;&#xB2E4;
nginx &#xB294; &#xC704;&#xC758; &#xAE30;&#xB2A5;&#xC744; &#xAD6C;&#xD604;&#xD558;&#xACE0; &#xC788;&#xC9C0; &#xC54A;&#xB2E4;(&#xC778;&#xC2DD;x)
&#xB530;&#xB77C;&#xC11C; /home &#xC5D0; &#xC811;&#xC18D;&#xD558;&#xB824;&#xACE0; &#xD560;&#xB54C; /home &#xC5D0; &#xB9E4;&#xCE6D;&#xB418;&#xB294; &#xAC83; &#xC774;&#xC5C6;&#xB2E4;&#xBA74; &#xB300;&#xC548;&#xC73C;&#xB85C; index.html &#xC744; &#xC81C;&#xACF5;&#xD558;&#xC5EC; /home &#xACBD;&#xB85C;&#xB97C; &#xB77C;&#xC6B0;&#xD305;&#xD558;&#xB294; &#xC124;&#xC815;</p>
</blockquote>
<hr>
<h1 id="&#xB178;&#xB4DC;-&#xC571;&#xC744;-&#xC704;&#xD55C;-&#xB3C4;&#xCEE4;-&#xD30C;&#xC77C;-&#xB9CC;&#xB4E4;&#xAE30;">&#xB178;&#xB4DC; &#xC571;&#xC744; &#xC704;&#xD55C; &#xB3C4;&#xCEE4; &#xD30C;&#xC77C; &#xB9CC;&#xB4E4;&#xAE30;</h1>
<h1 id="db&#xC5D0;-&#xAD00;&#xD574;&#xC11C;">DB&#xC5D0; &#xAD00;&#xD574;&#xC11C;</h1>
<h1 id="mysql&#xC744;-&#xC704;&#xD55C;-&#xB3C4;&#xCEE4;-&#xD30C;&#xC77C;-&#xB9CC;&#xB4E4;&#xAE30;">MYSQL&#xC744; &#xC704;&#xD55C; &#xB3C4;&#xCEE4; &#xD30C;&#xC77C; &#xB9CC;&#xB4E4;&#xAE30;</h1>
<ol>
<li>backend\mysql\Dockerfile</li>
<li>Dockerfile &#xC791;&#xC131; : FROM mysql:5.7</li>
<li>Database &#xC640; Table &#xC0DD;&#xC131; &#xC704;&#xCE58; : backend\mysql\slqs\initialize.sql</li>
<li>Database &#xC640; Table&#xC0DD;&#xC131;
initialize.sql</li>
</ol>
<hr>
<p>DROP DATABASE IF EXISTS myapp;
CRATE DATABASE mysapp;
USE myapp;</p>
<p>CRATE TABLE lists (
  id INTGER AUTO_INCREMENT,
  value TEXT,
  PRIMARY KEY (id)
);</p>
<hr>
<ol>
<li>mysql &#xC778;&#xCF54;&#xB529; &#xC124;&#xC815; : backend\mysql\my.conf &#xC791;&#xC131;
&#x3147; my.conf</li>
</ol>
<hr>
<p>[mysqld]
character-set-server=utf8
[mysqld]
default-character-set=utf8
[client]
dfeault-character-set=utf8</p>
<hr>
<p>&#x3147; Dockerfile</p>
<hr>
<p>FROM mysql:5.7
ADD ./my.conf /etc/mysql.conf.d/my.cnf</p>
<hr>
<h1 id="nginx&#xB97C;-&#xC704;&#xD55C;-&#xB3C4;&#xCEE4;-&#xD30C;&#xC77C;-&#xB9CC;&#xB4E4;&#xAE30;">NGINX&#xB97C; &#xC704;&#xD55C; &#xB3C4;&#xCEE4; &#xD30C;&#xC77C; &#xB9CC;&#xB4E4;&#xAE30;</h1>
<p>Nginx &#xAC00; context &#xB97C; &#xAE30;&#xC900;&#xC73C;&#xB85C; &#xC815;&#xC801;&#xD30C;&#xC77C; &#xCC98;&#xB9AC;(/)&#xC640; API &#xC694;&#xCCAD; &#xCC98;&#xB9AC;(/api)&#xB85C; &#xBD84;&#xAE30;&#xB418;&#xACE0; &#xC788;&#xB294; &#xC0C1;&#xD14C;</p>
<ul>
<li>&#xC815;&#xC801;&#xD30C;&#xC77C; &#xCC98;&#xB9AC; : React JS</li>
<li>API &#xC694;&#xCCAD; &#xCC98;&#xB9AC; : Node JS
Nginx &#xAC00;&#xC694;&#xCCAD;&#xC744; &#xB098;&#xB220;&#xC11C; &#xBCF4;&#xB0B4;&#xC8FC;&#xB294; &#xAE30;&#xC900;&#xC758; lolcation {Context&#xC815;&#xBCF4;}</li>
<li>nginx &#xD3F4;&#xB354;&#xC640; dfeault.conf &#xD30C;&#xC77C;, Dockerfile &#xC0DD;&#xC131;<blockquote>
<p>frontend\nginx != nginx</p>
</blockquote>
</li>
<li>default.conf &#xC791;&#xC131;
&#x3147; default.conf</li>
</ul>
<hr>
<p>upstream frontend {
  server fronted:3000
}</p>
<p>upstream backend {
  server backend:5000
}</p>
<p>server {
  listen 80;
  location / {
    proxy_pass <a href="http://frontend" target="_blank">http://frontend</a>;
  }</p>
<p>  location /api {
    proxy_pass <a href="http://backend" target="_blank">http://backend</a>;
  }</p>
<p>  // error&#xCC98;&#xB9AC;&#xC6A9;
  location /sockjs-node {
    proxy_pass <a href="http://fronted" target="_blank">http://fronted</a>;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection &quot;Upgrade&quot;;
  }
}</p>
<hr>
<ol>
<li>Nginx &#xB97C; &#xC704;&#xD55C; Dockerfile &#xC791;&#xC131;</li>
</ol>
<hr>
<p>FROM nginx
COPY ./default.conf /etc/nginx/conf/default.conf</p>
<hr>
<h1 id="docker-compose-&#xD30C;&#xC77C;-&#xC791;&#xC131;&#xD558;&#xAE30;">Docker Compose &#xD30C;&#xC77C; &#xC791;&#xC131;&#xD558;&#xAE30;</h1>
<ol>
<li>docker-compose.yaml &#xD30C;&#xC77C; &#xC0DD;&#xC131;</li>
<li>&#xAC01;&#xAC01;&#xC758; &#xC11C;&#xBE44;&#xC2A4;&#xB4E4;&#xC744; &#xC791;&#xC131;
*frontend / backend / nginx / mysql </li>
<li>&#xAE30;&#xB3D9; : docker-compose up</li>
</ol>
<p>docker-compose.yaml</p>
<hr>
<p>version: &quot;3&quot;
services:
  frontend:
    build:
      dockerfile: Dockerfile.dev
      context: ./frontend
    volumes:</p>
<pre><code>  - /app/node_modules
  - ./frontend:/app
stdin_open: true
</code></pre><p>  nginx:
    restart: always
    build:
      dockerfile: Dockerfile.dev
      context: ./nginx
    ports:</p>
<pre><code>  - &quot;3000:80&quot;
</code></pre><p>  backend:
    build:
      dockerfile: Dockerfile.dev
      context: ./backend
    container_name: app_backend
    volumes:</p>
<pre><code>  - /app/node_modules
  - ./frontend:/app
</code></pre><p>  mysql:
    build: ./mysql
    restart: unless-stopped
    container_name: app_mysql
    ports:</p>
<pre><code> - &quot;3306:3306&quot;
volumes:
  - ./mysql/mysql_data:/var/lib/mysql
  - ./mysql/sqls:/docker-entrypoint-initdb.d/
environment:
  MYSQL_ROOT_PASSWORD: admin1234
  MYSQL_DATABASE: mysapp
</code></pre><hr>
<p>&#x3147; &#xC7AC;&#xC2DC;&#xC791; &#xC815;&#xCC45;(restart)
no : &#xC7AC;&#xC2DC;&#xC791; x
always: &#xD56D;&#xC0C1; &#xC7AC;&#xC2DC;&#xC791;
on-failure: on-failure &#xC5D0;&#xB7EC;&#xCF54;&#xB4DC;&#xC640; &#xD568;&#xAED8; &#xCEE8;&#xD14C;&#xC774;&#xB108;&#xAC00; &#xBA48;&#xCD98; &#xACBD;&#xC6B0;&#xC5D0;&#xB9CC; &#xC7AC;&#xC2DC;&#xC791;
unless-stopped : &#xAC1C;&#xBC1C;&#xC790;&#xAC00; &#xC784;&#xC758;&#xB85C; &#xC911;&#xC9C0;&#xD560; &#xB54C; &#xBE7C;&#xACE0;&#xB294; &#xD56D;&#xC0C1; &#xC7AC;&#xC2DC;&#xC791;</p>
<h1 id="docker-volume&#xC744;-&#xC774;&#xC6A9;&#xD55C;-&#xB370;&#xC774;&#xD130;-&#xBCA0;&#xC774;&#xC2A4;-&#xB370;&#xC774;&#xD130;-&#xC720;&#xC9C0;&#xD558;&#xAE30;">Docker Volume&#xC744; &#xC774;&#xC6A9;&#xD55C; &#xB370;&#xC774;&#xD130; &#xBCA0;&#xC774;&#xC2A4; &#xB370;&#xC774;&#xD130; &#xC720;&#xC9C0;&#xD558;&#xAE30;</h1>
<p>================================================================
Section9 &#xBCF5;&#xC7A1;&#xD55C; &#xC5B4;&#xD50C;&#xC744; &#xC2E4;&#xC81C; &#xBC30;&#xD3EC;&#xD574;&#xBCF4;&#xAE30;(&#xBC30;&#xD3EC;)</p>
<h1 id="&#xB3C4;&#xCEE4;-&#xD658;&#xACBD;&#xC758;-mysql&#xBD80;&#xBD84;-&#xC815;&#xB9AC;&#xD558;&#xAE30;">&#xB3C4;&#xCEE4; &#xD658;&#xACBD;&#xC758; MYSQL&#xBD80;&#xBD84; &#xC815;&#xB9AC;&#xD558;&#xAE30;</h1>
<p>&#x3147;docker-compose.yaml</p>
<hr>
<p>version: &quot;3&quot;
services:
  frontend:
    build:
      dockerfile: Dockerfile.dev
      context: ./frontend
    volumes:</p>
<pre><code>  - /app/node_modules
  - ./frontend:/app
stdin_open: true
</code></pre><p>  nginx:
    restart: always
    build:
      dockerfile: Dockerfile.dev
      context: ./nginx
    ports:</p>
<pre><code>  - &quot;3000:80&quot;
</code></pre><p>  backend:
    build:
      dockerfile: Dockerfile.dev
      context: ./backend
    container_name: app_backend
    volumes:</p>
<pre><code>  - /app/node_modules
  - ./frontend:/app
</code></pre><hr>
<h1 id="github&#xC5D0;-&#xC18C;&#xC2A4;-&#xCF54;&#xB4DC;-&#xC62C;&#xB9AC;&#xAE30;">Github&#xC5D0; &#xC18C;&#xC2A4; &#xCF54;&#xB4DC; &#xC62C;&#xB9AC;&#xAE30;</h1>
<p>cd docker-fullstack
touch backend/.gitignore
&#x3147; ./gitignore</p>
<hr>
<p>node_moduels</p>
<hr>
<p>touch backend/.gitignore
&#x3147; ./gitignore</p>
<hr>
<p>mysql_data</p>
<hr>
<p>git init
git add .
git commit -m &quot;first commit&quot;
git remote add origin &#xACBD;&#xB85C;
git push origin master</p>
<h1 id="travis-ci-steps">Travis CI Steps</h1>
<p>(1) github &#xC5D0; &#xCF54;&#xB4DC; &#xD478;&#xC2DC;
(2) Travis CI &#xAC00; &#xC790;&#xB3D9;&#xC73C;&#xB85C; &#xCF54;&#xB4DC;&#xB97C; &#xAC00;&#xC838;&#xC634;
(3) &#xAC00;&#xC838;&#xC628; &#xCF54;&#xB4DC;&#xB85C; &#xD14C;&#xC2A4;&#xD2B8; &#xCF54;&#xB4DC; &#xC2E4;&#xD589; 
(4) &#xC131;&#xACF5; =&gt; &#xC6B4;&#xC601; &#xD658;&#xACBD; &#xC774;&#xBBF8;&#xC9C0;&#xB4E4;&#xC744; Build 
(5) Build &#xB41C; &#xC774;&#xBBF8;&#xC9C0;&#xB4E4;&#xC744; Docker Hub &#xB85C; &#xC804;&#xB2EC;
(6) AWS EB &#xC5D0; DockerHub &#xC5D0; &#xC774;&#xBBF8;&#xC9C0;&#xB97C; &#xBCF4;&#xB0C8;&#xB2E4;&#xACE0; &#xC804;&#xB2EC;
(7) AWS EB &#xC5D0;&#xC11C; DockerHub &#xC5D0; &#xC788;&#xB294; &#xC774;&#xBBF8;&#xC9C0;&#xB97C; &#xAC00;&#xC838;&#xC628; &#xD6C4;&#xC5D0; &#xBC30;&#xD3EC;</p>
<h1 id="travisyml-&#xD30C;&#xC77C;-&#xC791;&#xC131;&#xD558;&#xAE30;">.travis.yml &#xD30C;&#xC77C; &#xC791;&#xC131;&#xD558;&#xAE30;</h1>
<p>(1) .traivs.yaml &#xD30C;&#xC77C; &#xC0DD;&#xC131;
(2) Test &#xC218;&#xD589;&#xC744; &#xC704;&#xD55C; &#xC900;&#xBE44; </p>
<ul>
<li>&#xC571;&#xC744; &#xB3C4;&#xCEE4; &#xD658;&#xACBD;&#xC5D0;&#xC11C; &#xC2E4;&#xD589;&#xD558;&#xACE0; &#xC788;&#xC73C;&#xB2C8; Travis CI &#xC5D0;&#xAC8C; &#xB3C4;&#xCEE4; &#xD658;&#xACBD;&#xC73C;&#xB85C; &#xC218;&#xD589;&#xB428;&#xC744; &#xC120;&#xC5B8;</li>
<li>&#xAD6C;&#xC131;&#xB41C; &#xB3C4;&#xCEE4; &#xD658;&#xACBD;&#xC5D0;&#xC11C; Dockerfile.dev &#xB97C; &#xC774;&#xC6A9;&#xD574;&#xC11C; &#xB3C4;&#xCEE4; &#xC774;&#xBBF8;&#xC9C0; &#xC0DD;&#xC131;
(3) Test &#xC218;&#xD589;</li>
<li>&#xC0DD;&#xC131;&#xB41C; &#xD14C;&#xC2A4;&#xD2B8; &#xC774;&#xBBF8;&#xC9C0;&#xB85C; &#xD14C;&#xC2A4;&#xD2B8; &#xC218;&#xD589;
(4) &#xBAA8;&#xB4E0; &#xD504;&#xB85C;&#xC81D;&#xD2B8;&#xC758; &#xC6B4;&#xC601;&#xBC84;&#xC804; &#xC774;&#xBBF8;&#xC9C0;&#xB97C; &#xBE4C;&#xB4DC;</li>
<li>&#xD14C;&#xC2A4;&#xD2B8;&#xAC00; &#xC131;&#xACF5;&#xD588;&#xB2E4;&#xBA74; &#xAC1C;&#xBCC4; &#xD504;&#xB85C;&#xC81D;&#xD2B8;&#xC758; &#xC6B4;&#xC601;&#xBC84;&#xC804; &#xC774;&#xBBF8;&#xC9C0;&#xB97C; &#xBE4C;&#xB4DC;&#xD558;&#xB294; &#xC124;&#xC815; &#xCD94;&#xAC00;
(5) &#xBE4C;&#xB4DC;&#xB41C; &#xC774;&#xBBF8;&#xC9C0;&#xB97C; DockerHub &#xB85C; &#xC804;&#xB2EC;
(6) &#xBC30;&#xD3EC;&#xD558;&#xAE30; : AWS EB &#xC5D0;&#xC11C; DockerHub &#xC758; &#xC5C5;&#xB370;&#xC774;&#xD2B8;&#xB41C; &#xBE4C;&#xB4DC; &#xC774;&#xBBF8;&#xC9C0;&#xB97C; &#xAC00;&#xC838;&#xC640;&#xC11C; &#xBC30;&#xD3EC;&#xD560; &#xC218; &#xC788;&#xB3C4;&#xB85D; &#xC124;&#xC815;</li>
</ul>
<p>&#x3147; .travis.yaml</p>
<hr>
<p>laguage: generic
sudo: required
services:</p>
<ul>
<li>docker
before_install:</li>
<li>docker build -t lena/react-test-app -f ./frontend/Dockerfile.dev ./frontend
script:</li>
<li>docker run -e CI=ture lena/react-test-app npm run test
after_success:</li>
<li>docekr build -t lena/docker-fronted ./frontend</li>
<li>docker build -t lena/docker-backend ./backend</li>
<li><p>docker build -t lena/docker-nginx ./nginx</p>
</li>
<li><p>echo &quot;$DOCKER_HUB_PASWORD&quot; | docker login -u &quot;$DOCKER_HUB_ID&quot; --password-stdin</p>
</li>
<li>docekr push lena/docker-fronted ./frontend</li>
<li>docker push lena/docker-backend ./backend</li>
<li>docker push lena/docker-nginx ./nginx</li>
</ul>
<hr>
<h1 id="dockerrunawsjson&#xC5D0;-&#xB300;&#xD574;&#xC11C;">Dockerrun.aws.json&#xC5D0; &#xB300;&#xD574;&#xC11C;</h1>
<p>: Dockerfile &#xC774; &#xC5EC;&#xB7EC;&#xAC1C;&#xC77C; &#xB54C; &#xAC1C;&#xBCC4; &#xD30C;&#xC77C;&#xC758; &#xB3D9;&#xC791; &#xC21C;&#xC11C;&#xB97C; &#xC815;&#xC758;</p>
<blockquote>
<p>&#xC5C5;&#xBB34; &#xD504;&#xB85C;&#xC138;&#xC2A4;&#xB97C; &#xC815;&#xC758; Task Definition + Contaienr Definition &#xBA85;&#xC2DC;</p>
</blockquote>
<h1 id="dockerrunawsjson-&#xD30C;&#xC77C;-&#xC791;&#xC131;&#xD558;&#xAE30;">Dockerrun.aws.json &#xD30C;&#xC77C; &#xC791;&#xC131;&#xD558;&#xAE30;</h1>
<p>&#x3147; Dockerrun.aws.json</p>
<hr>
<p>&quot;containerDefinitions&quot;: { // &#xC774; &#xAC1D;&#xCCB4;&#xC548;&#xC5D0;&#xC11C; &#xAC1C;&#xBCC4; &#xCEE8;&#xD14C;&#xC774;&#xB108;&#xB97C; &#xC815;&#xC758;
  &quot;name&quot;: &quot;nginx&quot;, // &#xCEE8;&#xD14C;&#xC774;&#xB108; &#xBA85;
  &quot;image: &quot;lena/docker-nginx&quot;, // Docker &#xCEE8;&#xD14C;&#xC774;&#xB108;&#xB97C; &#xAD6C;&#xCD95;&#xD560; &#xC628;&#xB77C;&#xC778; Docker repo &#xC758; Docker &#xC774;&#xBBF8;&#xC9C0; &#xC774;&#xB984;
  &quot;hostname&quot;: &quot;nginx&quot;, // &#xD638;&#xC2A4;&#xD2B8;&#xBA85; ; docker-compose &#xB97C; &#xC774;&#xC6A9;&#xD574; &#xC0DD;&#xC131;&#xB41C; &#xB2E4;&#xB978; &#xCEE8;&#xD14C;&#xC774;&#xB108;&#xC5D0;&#xC11C; &#xC811;&#xADFC; &#xAC00;&#xB2A5;
  &quot;essentail&quot;: true, // &#xCEE8;&#xD14C;&#xC774;&#xB108; &#xC791;&#xC5C5; &#xC2E4;&#xD328; &#xC2DC; &#xC791;&#xC5C5; &#xC911;&#xC9C0;&#xB97C; &#xBC14;&#xB784; &#xACBD;&#xC6B0; true
  &quot;portMappings&quot;: [{ // &#xCEE8;&#xD14C;&#xC774;&#xB108;&#xC5D0; &#xC788;&#xB294; &#xB124;&#xD2B8;&#xC6CC;&#xD06C; &#xC9C0;&#xC810;&#xC744; &#xD638;&#xC2A4;&#xD2B8;&#xC5D0; &#xC788;&#xB294; &#xC9C0;&#xC810;&#xACFC; &#xB9E4;&#xD551;
    &quot;hostPort&quot;: 80,
    &quot;contaienrPort&quot;: 80
  }],
  &quot;links&quot;: [&quot;frontend&quot;, &quot;backend&quot;], // &#xC5F0;&#xACB0;&#xD55C; &#xCEE8;&#xD14C;&#xC774;&#xB108; &#xBAA9;&#xB85D; 
  &quot;memory&quot;: 128
}</p>
<hr>
<h1 id="&#xB2E4;&#xC911;-&#xCEE8;&#xD14C;&#xC774;&#xB108;-&#xC571;&#xC744;-&#xC704;&#xD55C;-elastic-beanstalk-&#xD658;&#xACBD;-&#xC0DD;&#xC131;">&#xB2E4;&#xC911; &#xCEE8;&#xD14C;&#xC774;&#xB108; &#xC571;&#xC744; &#xC704;&#xD55C; Elastic beanstalk &#xD658;&#xACBD; &#xC0DD;&#xC131;</h1>
<h1 id="vpcvirtual-private-cloud&#xC640;-security-group-&#xC124;&#xC815;&#xD558;&#xAE30;">VPC(virtual private cloud)&#xC640; Security Group &#xC124;&#xC815;&#xD558;&#xAE30;</h1>
<h1 id="mysql&#xC744;-&#xC704;&#xD55C;-aws-rds-&#xC0DD;&#xC131;&#xD558;&#xAE30;">MYSQL&#xC744; &#xC704;&#xD55C; AWS RDS &#xC0DD;&#xC131;&#xD558;&#xAE30;</h1>
<h1 id="security-group-&#xC0DD;&#xC131;&#xD558;&#xAE30;">Security Group &#xC0DD;&#xC131;&#xD558;&#xAE30;</h1>
<h1 id="security-group-&#xC801;&#xC6A9;&#xD558;&#xAE30;">Security Group &#xC801;&#xC6A9;&#xD558;&#xAE30;</h1>
<h1 id="eb&#xC640;-rds-&#xC18C;&#xD1B5;&#xC744;-&#xC704;&#xD55C;-&#xD658;&#xACBD;-&#xBCC0;&#xC218;-&#xC124;&#xC815;&#xD558;&#xAE30;">EB&#xC640; RDS &#xC18C;&#xD1B5;&#xC744; &#xC704;&#xD55C; &#xD658;&#xACBD; &#xBCC0;&#xC218; &#xC124;&#xC815;&#xD558;&#xAE30;</h1>
<h1 id="travisyml-&#xD30C;&#xC77C;-&#xC791;&#xC131;&#xD558;&#xAE30;-&#xBC30;&#xD3EC;-&#xBD80;&#xBD84;">travis.yml &#xD30C;&#xC77C; &#xC791;&#xC131;&#xD558;&#xAE30; (&#xBC30;&#xD3EC; &#xBD80;&#xBD84;)</h1>
<h1 id="travis-ci&#xC758;-aws-&#xC811;&#xADFC;&#xC744;-&#xC704;&#xD55C;-api-key-&#xC0DD;&#xC131;">Travis CI&#xC758; AWS &#xC811;&#xADFC;&#xC744; &#xC704;&#xD55C; API key &#xC0DD;&#xC131;</h1>
<h1 id="fullstack-app-travis-ci-&#xC5D0;&#xC11C;-github-action&#xC73C;&#xB85C;-&#xAD50;&#xCCB4;&#xD558;&#xAE30;&#xC2DC;&#xC791;&#xBD80;&#xD130;-&#xBC30;&#xD3EC;&#xAE4C;&#xC9C0;">Fullstack App Travis CI &#xC5D0;&#xC11C; Github Action&#xC73C;&#xB85C; &#xAD50;&#xCCB4;&#xD558;&#xAE30;(&#xC2DC;&#xC791;&#xBD80;&#xD130; &#xBC30;&#xD3EC;&#xAE4C;&#xC9C0;)</h1>
<p>================================================================</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../../STUDY.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: STUDY">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"DOCKER","level":"1.3.1","depth":2,"next":{"title":"Inflean","level":"1.3.1.1","depth":3,"ref":"","articles":[]},"previous":{"title":"STUDY","level":"1.3","depth":1,"path":"STUDY.md","ref":"STUDY.md","articles":[{"title":"DOCKER","level":"1.3.1","depth":2,"path":"study/docker/DOCKER_README.md","ref":"study/docker/DOCKER_README.md","articles":[{"title":"Inflean","level":"1.3.1.1","depth":3,"ref":"","articles":[]}]},{"title":"[ShellScript]","level":"1.3.2","depth":2,"ref":"","articles":[]},{"title":"[JAVA]","level":"1.3.3","depth":2,"ref":"","articles":[]},{"title":"[SQLD]","level":"1.3.4","depth":2,"ref":"","articles":[]},{"title":"[LinuxMaster1급]","level":"1.3.5","depth":2,"ref":"","articles":[]},{"title":"[APM]","level":"1.3.6","depth":2,"ref":"","articles":[]},{"title":"[CSTS]","level":"1.3.7","depth":2,"ref":"","articles":[]},{"title":"[CCNA]","level":"1.3.8","depth":2,"ref":"","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"study/docker/DOCKER_README.md","mtime":"2024-01-02T11:01:19.758Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-01-02T11:24:11.920Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

